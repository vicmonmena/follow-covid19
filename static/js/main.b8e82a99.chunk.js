(this["webpackJsonpfollow-covid19"]=this["webpackJsonpfollow-covid19"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),l=(a(14),a(2)),u=a.n(l),i=a(3),s=a(1),m=(a(16),a(8)),f=(a(6),function(e){var t=e.title,a=void 0===t?"no title":t,n=e.value,r=void 0===n?0:n;return c.a.createElement("div",{className:"stat"},c.a.createElement(m.Spring,{from:{number:0},to:{number:r},config:{delay:300}},(function(e){var t=e.number;return c.a.createElement("h2",null,function(e){return new Intl.NumberFormat("es-ES").format(e)}(t.toFixed(0)))})),c.a.createElement("h5",null,a.toUpperCase()))}),d=function(e){var t=e.selectedCountry,a=void 0===t?"Spain":t,r=e.handleSelectCountry,o=Object(n.useState)([]),l=Object(s.a)(o,2),m=l[0],f=l[1],d=Object(n.useState)(!1),v=Object(s.a)(d,2),p=v[0],h=v[1];function b(e){return e.map((function(e){return{name:e.name,value:e.iso3}}))}return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch("https://covid19.mathdro.id/api/countries").then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:t=e.sent,a=void 0!==t?b(t.countries):[],f(void 0!==t?[{name:"MUNDIAL",value:"md"}].concat(a):{"Error loading countries":"err"}),h(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"topright"},!0===p&&c.a.createElement("p",null,"Cargando pa\xedses ..."),!1===p&&c.a.createElement("select",{id:"country",onChange:function(e){if(e.target.value===a)return!1;r(e.target.value)},value:a},m.map((function(e){return c.a.createElement("option",{key:e.name,value:e.name},e.name)}))))},v=function(e){var t=e.selectedCSS,a=void 0===t?"flat":t,r=e.handleSelectCSS,o=Object(n.useState)("https://drasite.com/flat-remix-css"),l=Object(s.a)(o,2),u=l[0],i=l[1];return Object(n.useEffect)((function(){i("skeuos"===a?"https://drasite.com/skeuos-css":"https://drasite.com/flat-remix-css")}),[a]),c.a.createElement("div",{className:"cssselector"},c.a.createElement("span",{className:"cssselector-title"},"C\xf3mo quieres ver esta web"),c.a.createElement("select",{id:"cssselector",onChange:function(e){if(e.target.value===a)return!1;r(e.target.value)},value:a},c.a.createElement("option",{key:"flat",value:"flat"},"Flat Remix"),c.a.createElement("option",{key:"skeuos",value:"skeuos"},"Skeuomorphic")),c.a.createElement("a",{style:{marginLeft:"10px"},href:u,target:"_blank",rel:"noopener noreferrer"},"info"))};var p=function(){var e={confirmed:{value:0},recovered:{value:0},deaths:{value:0}},t=Object(n.useState)("https://covid19.mathdro.id/api"),r=Object(s.a)(t,2),o=r[0],l=r[1],m=Object(n.useState)(e),p=Object(s.a)(m,2),h=p[0],b=p[1],E=Object(n.useState)(!1),S=Object(s.a)(E,2),O=S[0],j=S[1],g=Object(n.useState)({value:0}),w=Object(s.a)(g,2),y=w[0],C=w[1],k=Object(n.useState)({value:0}),N=Object(s.a)(k,2),I=N[0],D=N[1],x=Object(n.useState)({value:0}),F=Object(s.a)(x,2),T=F[0],U=F[1],A=Object(n.useState)(new Date),R=Object(s.a)(A,2),L=R[0],J=R[1],M=Object(n.useState)("Spain"),V=Object(s.a)(M,2),_=V[0],q=V[1],z=Object(n.useState)("flat"),B=Object(s.a)(z,2),G=B[0],H=B[1];return Object(n.useEffect)((function(){a.e(3).then(a.t.bind(null,32,7))}),[]),Object(n.useEffect)((function(){!function(t){function a(){return(a=Object(i.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return j(!0),a.next=3,fetch(t).then((function(e){return e.json()})).catch((function(e){console.log("err: ",e)}));case 3:n=a.sent,b(void 0!==n?n:e),j(!1);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}(o)}),[o]),Object(n.useEffect)((function(){var e;void 0!==h&&void 0===h.error?(C(h.confirmed),D(h.recovered),U(h.deaths),J(null!==(e=h.lastUpdate)&&void 0!==e?e:"no info")):(C({value:0}),D({value:0}),U({value:0}),J("no info"))}),[h]),Object(n.useEffect)((function(){"MUNDIAL"===_.toUpperCase()?l("https://covid19.mathdro.id/api"):l("https://covid19.mathdro.id/api/countries/".concat(_))}),[_]),c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Seguimiento sobre el COVID-19 (Nuevo CORONAVIRUS)"),c.a.createElement(d,{selectedCountry:_,handleSelectCountry:function(e){q(e)}}),c.a.createElement("h3",null,"A continuaci\xf3n mostramos las estad\xedsticas sobre los casos..."),!1===O&&c.a.createElement("label",null,"\xdaltima actualizaci\xf3n: ",function(e){if(!e)return"No hay fecha";try{var t=new Date(e),a=new Intl.DateTimeFormat("es-ES",{year:"numeric"}).format(t),n=new Intl.DateTimeFormat("es-ES",{month:"long"}).format(t),c=new Intl.DateTimeFormat("es-ES",{day:"2-digit"}).format(t),r=new Intl.DateTimeFormat("es-ES",{hour:"numeric"}).format(t),o=new Intl.DateTimeFormat("es-ES",{minute:"numeric"}).format(t),l=new Intl.DateTimeFormat("es-ES",{second:"numeric"}).format(t);return"".concat(c,"-").concat(n,"-").concat(a," a las ").concat(r,":").concat(o,":").concat(l)}catch(u){return"No hay fecha"}}(L)),!0===O&&c.a.createElement("p",null,"Cargando ..."),!1===O&&c.a.createElement("div",{className:"paper stats"},c.a.createElement(f,{title:"Confirmados",value:y.value}),c.a.createElement(f,{title:"Recuperados",value:I.value}),c.a.createElement(f,{title:"Fallecidos",value:T.value})),c.a.createElement("div",{className:"footer"},c.a.createElement(v,{handleSelectCSS:function(e){switch(e){case"skeuos":H(e),a.e(4).then(a.t.bind(null,33,7));break;default:H(e),window.location.reload(!1)}},selectedCSS:G}),c.a.createElement("div",{className:"code-available"},c.a.createElement("h5",null,"El c\xf3digo de esta web est\xe1 disponible en ",c.a.createElement("a",{href:"https://github.com/vicmonmena/follow-covid19",target:"_blank",rel:"noopener noreferrer"},"GitHub"),"."))))};o.a.render(c.a.createElement(p,null),document.getElementById("root"))},6:function(e,t,a){},9:function(e,t,a){e.exports=a(31)}},[[9,1,2]]]);
//# sourceMappingURL=main.b8e82a99.chunk.js.map